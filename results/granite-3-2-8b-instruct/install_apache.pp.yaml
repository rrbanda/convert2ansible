```yml
---
- name: Manage Apache
  hosts: all
  become: yes

  case:
    - when 'CentOS|RedHat'
      case:
        - when 'x86_64'
          package:
            name: httpd
            ensure: present
        - else
          package:
            name: httpd.i386
            ensure: present
      service:
        name: httpd
        state: "{{ lookup('fact', 'kernel_architecture') == 'x86_64' ? 'running' : 'stopped' }}"
        enabled: "{{ lookup('fact', 'kernel_architecture') == 'x86_64' ? true : false }}"
    - when else
      package:
        name: httpd
        ensure: absent
      service:
        name: httpd
        state: "stopped"
        enabled: false

  handlers:
    - name: reload_apache
      service:
        name: httpd
        state: restarted

  vars:
    apacheconf:
      default: "/etc/httpd/conf/httpd.conf"
```